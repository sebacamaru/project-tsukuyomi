const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./lib-CuoYaCYr.js","./Filter-BEjgMG_t.js","./DOMContainer-BHNsiAfU.js","./FilterSystem-DrHbQy25.js","./CanvasPool-CcMbyN3l.js","./SharedSystems-BiYNgiaQ.js","./WebGLRenderer-DMVCX7Hw.js","./WebGPURenderer-DyQmMnaz.js","./DashboardScene-Bf4itlzU.js","./Scene-B6jMDgO1.js","./DashboardScene-CYbFv8_r.css","./MarketplaceScene-CUIFcrjd.js","./MarketplaceScene-B6iMqHG_.css"])))=>i.map(i=>d[i]);
(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=`modulepreload`,t=function(e,t){return new URL(e,t).href},n={};const r=function(r,i,a){let o=Promise.resolve();if(i&&i.length>0){let r=document.getElementsByTagName(`link`),s=document.querySelector(`meta[property=csp-nonce]`),c=s?.nonce||s?.getAttribute(`nonce`);function l(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}o=l(i.map(i=>{if(i=t(i,a),i in n)return;n[i]=!0;let o=i.endsWith(`.css`),s=o?`[rel="stylesheet"]`:``;if(a)for(let e=r.length-1;e>=0;e--){let t=r[e];if(t.href===i&&(!o||t.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${i}"]${s}`))return;let l=document.createElement(`link`);if(l.rel=o?`stylesheet`:e,o||(l.as=`script`),l.crossOrigin=``,l.href=i,c&&l.setAttribute(`nonce`,c),document.head.appendChild(l),o)return new Promise((e,t)=>{l.addEventListener(`load`,e),l.addEventListener(`error`,()=>t(Error(`Unable to preload CSS for ${i}`)))})}))}function s(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(e=>{for(let t of e||[])t.status===`rejected`&&s(t.reason);return r().catch(s)})};var i=class{constructor(){this.app=null,this.particles=[],this.PIXI=null}async init(){return this.app?this.app:(this.PIXI||=await r(()=>import(`./lib-CuoYaCYr.js`),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),this.app=new this.PIXI.Application,await this.app.init({background:658983,resizeTo:window,antialias:!0}),this.app.canvas.style.position=`fixed`,this.app.canvas.style.top=`0`,this.app.canvas.style.left=`0`,this.app.canvas.style.zIndex=`-1`,this.app.canvas.style.width=`100%`,this.app.canvas.style.height=`100%`,document.body.prepend(this.app.canvas),this.createParticles(),this.app.ticker.add(()=>this.animate()),this.app)}createParticles(){for(let e=0;e<50;e++){let e=new this.PIXI.Graphics,t=Math.random()*3+1,n=[3447003,3066993,10181046,15965202][Math.floor(Math.random()*4)];e.circle(0,0,t),e.fill({color:n,alpha:.6});let r={graphics:e,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:t};e.x=r.x,e.y=r.y,this.app.stage.addChild(e),this.particles.push(r)}}animate(){this.particles.forEach(e=>{e.x+=e.vx,e.y+=e.vy,e.x<0&&(e.x=window.innerWidth),e.x>window.innerWidth&&(e.x=0),e.y<0&&(e.y=window.innerHeight),e.y>window.innerHeight&&(e.y=0),e.graphics.x=e.x,e.graphics.y=e.y})}destroy(){this.app&&=(this.app.destroy(!0),null)}};const a=new class{constructor(){this.element=null,this.progressBar=null,this.loadingQueue=0,this.init()}init(){this.element=document.createElement(`div`),this.element.className=`loading-indicator`,this.element.innerHTML=`
      <div class="loading-indicator__bar"></div>
    `,document.body.appendChild(this.element),this.progressBar=this.element.querySelector(`.loading-indicator__bar`)}show(){this.loadingQueue++,this.loadingQueue===1&&(this.element.classList.add(`loading-indicator--visible`),this.progressBar.style.width=`0%`,setTimeout(()=>{this.progressBar.style.width=`99%`},100))}hide(){this.loadingQueue=Math.max(0,this.loadingQueue-1),this.loadingQueue===0&&(this.element.classList.remove(`loading-indicator--visible`),setTimeout(()=>{this.progressBar.style.width=`0%`},200))}async wrap(e){this.show();try{return await e()}finally{this.hide()}}},o={scenes:new Map,instances:new Map,current:null,container:null,router:null,init(e,t=null){this.container=e,this.router=t},register(e,t,n=null){if(this.scenes.set(e,t),this.router){let t=n||this.generatePath(e);this.router.register(t,e)}},generatePath(e){return e===`dashboard`||e===`home`?`/`:{market:`/marketplace`}[e]||`/${e}`},async goTo(e,t=!0){a.show();try{let n=this.scenes.get(e);if(!n)throw Error(`Scene not found: `+e);let r=n;if(typeof n==`function`&&!n.prototype){let e=await n();r=e.default||Object.values(e)[0]}let i=this.instances.get(e);if(i||(i=new r,this.instances.set(e,i)),this.current&&this.current.onExit(),this.container.innerHTML=``,this.current=i,await i.onEnter(this.container),t&&this.router){let t=this.router.getPathByScene(e);t&&t!==this.router.currentPath&&window.history.pushState({},``,t)}}finally{a.hide()}}},s=new class{constructor(){this.routes=new Map,this.sceneToPath=new Map,this.sceneManager=null}init(e){this.sceneManager=e,window.addEventListener(`popstate`,()=>{this.handleRoute(window.location.pathname)}),document.addEventListener(`click`,e=>{let t=e.target.closest(`a[href^='/']`);t&&(e.preventDefault(),this.navigate(t.getAttribute(`href`)))}),this.handleRoute(window.location.pathname)}register(e,t){this.routes.set(e,t),this.sceneToPath.set(t,e)}navigate(e){window.history.pushState({},``,e),this.handleRoute(e)}handleRoute(e){let t=this.routes.get(e);t?this.sceneManager.goTo(t,!1):(console.warn(`Route not found: ${e}, redirecting to /`),this.navigate(`/`))}getPathByScene(e){return this.sceneToPath.get(e)}get currentPath(){return window.location.pathname}};var c=`<div id="app-layout">
  <nav id="main-nav">
    <a href="/">Dashboard</a>
    <a href="/marketplace">Market</a>
  </nav>
  <main id="scene-outlet"></main>
  <footer>Footer</footer>
</div>
`,l=class{constructor(){this.renderer=new i}async init(){await a.wrap(async()=>{await this.renderer.init()});let e=document.createElement(`div`);e.id=`ui-root`,e.innerHTML=c,document.body.appendChild(e);let t=e.querySelector(`#scene-outlet`);o.init(t,s)}};async function u(){await new l().init(),o.register(`dashboard`,()=>r(()=>import(`./DashboardScene-Bf4itlzU.js`),__vite__mapDeps([8,9,10]),import.meta.url)),o.register(`market`,()=>r(()=>import(`./MarketplaceScene-CUIFcrjd.js`),__vite__mapDeps([11,9,12]),import.meta.url)),s.init(o)}u();export{r as n,a as t};